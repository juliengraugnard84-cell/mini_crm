{% extends "base.html" %}
{% block title %}Modifier utilisateur{% endblock %}

{% block content %}

<!-- ================= PAGE HEADER ================= -->
<div class="page-header mb-4">
    <h1>Modifier un utilisateur</h1>
    <p class="text-muted">
        Compte : <strong>{{ user.username }}</strong>
    </p>
</div>

<!-- ================= FORM CARD ================= -->
<div class="card" style="max-width:520px;">

    <h5>Informations du compte</h5>

    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

        <div class="mb-3">
            <label class="form-label">Nom d’utilisateur</label>
            <input type="text"
                   name="username"
                   class="form-control"
                   value="{{ user.username }}"
                   required>
        </div>

        <div class="mb-3">
            <label class="form-label">
                Nouveau mot de passe
            </label>
            <input type="password"
                   name="password"
                   class="form-control"
                   placeholder="Laisser vide pour conserver l’actuel">
        </div>

        <div class="mb-4">
            <label class="form-label">Rôle</label>
            <select name="role"
                    class="form-select"
                    required>
                <option value="admin"
                        {% if user.role == 'admin' %}selected{% endif %}>
                    Administrateur
                </option>
                <option value="commercial"
                        {% if user.role == 'commercial' %}selected{% endif %}>
                    Commercial
                </option>
            </select>
        </div>

        <!-- ================= ACTIONS ================= -->
        <div class="d-flex justify-content-end gap-2">
            <a href="{{ url_for('admin_users') }}"
               class="btn btn-secondary">
                Annuler
            </a>

            <button class="btn btn-primary">
                Enregistrer
            </button>
        </div>
    </form>

</div>

{% endblock %}
