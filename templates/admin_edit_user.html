{% extends "base.html" %}
{% block title %}Modifier utilisateur{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width:520px;">

    <h2 class="mb-3">Modifier utilisateur : {{ user.username }}</h2>

    <div class="card">
        <div class="card-body">

            <form method="POST">
                <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

                <div class="mb-3">
                    <label class="form-label">Nom d’utilisateur</label>
                    <input class="form-control" name="username" value="{{ user.username }}" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Nouveau mot de passe (laisser vide pour ne pas changer)</label>
                    <input class="form-control" type="password" name="password">
                </div>

                <div class="mb-3">
                    <label class="form-label">Rôle</label>
                    <select name="role" class="form-select" required>
                        <option value="admin" {% if user.role=='admin' %}selected{% endif %}>Admin</option>
                        <option value="commercial" {% if user.role=='commercial' %}selected{% endif %}>Commercial</option>
                    </select>
                </div>

                <div style="display:flex;gap:10px;justify-content:flex-end;">
                    <a class="btn btn-secondary" href="{{ url_for('admin_users') }}">Annuler</a>
                    <button class="btn btn-primary">Enregistrer</button>
                </div>
            </form>

        </div>
    </div>

</div>
{% endblock %}
