{% extends "base.html" %}
{% block title %}Clients{% endblock %}

{% block content %}

<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
    <h1>Clients</h1>

    <a href="{{ url_for('new_client') }}" class="btn btn-success">
        + Nouveau client
    </a>
</div>

<div class="card">

    <h5>Liste des clients</h5>

    {% if clients %}

    <div class="list-group">

        {% for client in clients %}
        <div class="list-group-item" style="display:flex;justify-content:space-between;align-items:center;gap:16px;">

            <div>
                <strong>{{ client.name }}</strong><br>
                <span class="text-muted">
                    {{ client.email or "—" }} · {{ client.phone or "—" }}
                </span><br>
                <small class="text-muted">
                    Commercial : {{ client.commercial or "—" }}
                </small>
            </div>

            <div style="display:flex;gap:8px;">
                <a href="{{ url_for('client_detail', client_id=client.id) }}"
                   class="btn btn-outline-secondary btn-sm">
                    Voir
                </a>

                <a href="{{ url_for('edit_client', client_id=client.id) }}"
                   class="btn btn-primary btn-sm">
                    Modifier
                </a>
            </div>

        </div>
        {% endfor %}

    </div>

    {% else %}

    <div class="text-muted" style="padding:16px;">
        Aucun client enregistré.
    </div>

    {% endif %}

</div>

{% endblock %}
