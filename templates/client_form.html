{% extends "base.html" %}
{% block title %}Nouveau client{% endblock %}

{% block content %}
<h1>Nouveau dossier client</h1>

<form method="POST" enctype="multipart/form-data">

    <!-- ================= SECTION 1 : CREATION DOSSIER ================= -->
    <div class="card">
        <h5>Création du dossier</h5>

        <div class="form-group">
            <label class="form-label">Nom du dossier</label>
            <input
                type="text"
                name="dossier_nom"
                class="form-control"
                placeholder="Ex : Entreprise Dupont – Site principal"
                required
            >
        </div>

        <div class="form-group" style="margin-top:14px;">
            <label class="form-label">Documents à joindre</label>
            <input
                type="file"
                name="documents"
                class="form-control"
                multiple
            >
            <small class="text-muted">
                PDF, images, Word, Excel autorisés.
            </small>
        </div>
    </div>

    <!-- ================= SECTION 2 : DEMANDE DE COTATION ================= -->
    <div class="card">
        <h5>Demande de cotation</h5>

        <!-- Infos négociation -->
        <div class="form-group">
            <label class="form-label">Date de négociation</label>
            <input type="date" name="date_negociation" class="form-control">
        </div>

        <hr style="margin:20px 0;">

        <!-- Signataire -->
        <h5>Signataire</h5>

        <div class="form-group">
            <label class="form-label">Nom du signataire</label>
            <input
                type="text"
                name="signataire_nom"
                class="form-control"
                placeholder="Nom et prénom"
            >
        </div>

        <div class="form-group">
            <label class="form-label">Téléphone</label>
            <input
                type="tel"
                name="signataire_telephone"
                class="form-control"
                placeholder="06 00 00 00 00"
            >
        </div>

        <div class="form-group">
            <label class="form-label">Adresse e-mail</label>
            <input
                type="email"
                name="signataire_email"
                class="form-control"
                placeholder="email@entreprise.fr"
            >
        </div>

        <hr style="margin:20px 0;">

        <!-- Entreprise -->
        <h5>Entreprise</h5>

        <div class="form-group">
            <label class="form-label">SIRET</label>
            <input
                type="text"
                name="siret"
                class="form-control"
                placeholder="14 chiffres"
                maxlength="14"
            >
        </div>

        <hr style="margin:20px 0;">

        <!-- Point de livraison -->
        <h5>Point de livraison</h5>

        <div class="form-group">
            <label class="form-label">Numéro de PDL / PCE</label>
            <input
                type="text"
                name="pdl_pce"
                class="form-control"
            >
        </div>

        <div class="form-group">
            <label class="form-label">Type d’énergie</label>
            <select name="energie_type" class="form-select">
                <option value="">— Sélectionner —</option>
                <option value="electricite">Électricité</option>
                <option value="gaz">Gaz</option>
            </select>
        </div>

        <hr style="margin:20px 0;">

        <!-- Fournisseur -->
        <h5>Fournisseur actuel</h5>

        <div class="form-group">
            <label class="form-label">Nom du fournisseur</label>
            <input
                type="text"
                name="fournisseur_actuel"
                class="form-control"
                placeholder="EDF, Engie, TotalEnergies…"
            >
        </div>

        <div class="form-group">
            <label class="form-label">Date de fin de contrat</label>
            <input
                type="date"
                name="date_fin_contrat"
                class="form-control"
            >
        </div>
    </div>

    <!-- ================= ACTIONS ================= -->
    <div class="actions-row">
        <button type="submit" class="btn btn-primary">
            Créer le dossier
        </button>

        <a href="{{ url_for('clients') }}" class="btn btn-secondary">
            Annuler
        </a>
    </div>

</form>
{% endblock %}
